<div id="map"></div>
<script src="https://maps.googleapis.com/maps/api/js?key=<%= @api_key %>&callback=initMap" async defer>
</script>
<script>
	var dbc = {lat: 37.7846334, lng: -122.3996024};
  function initMap() {
    var map = new google.maps.Map(document.getElementById('map'), {
      center: dbc,
      zoom: 6
    })

		// var marker = new google.maps.Marker({
    //   position: dbc,
    //   map: map
    // })

		var infoWindow = new google.maps.InfoWindow({map: map});

		if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(position) {
        var pos = {
          lat: position.coords.latitude,
          lng: position.coords.longitude
        }

				// var marker = new google.maps.Marker({
		    //   position: pos,
		    //   map: map
		    // })

				infoWindow.setPosition(pos);
				infoWindow.setContent('Location found.');
				map.setCenter(pos);
      })
  	}
	}
</script>
